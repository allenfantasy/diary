<!DOCTYPE html><!--[if lte IE 8]>
<html lang="en" class="lte-ie8">
<![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
<!--<![endif]--><head><meta charset="utf-8"><title>July 15, 2016</title><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/diary/styles/global.css"><link rel="stylesheet" href="/diary/styles/tomorrow.css"><link rel="stylesheet" href="/diary/styles/diary.css"></head><body><header class="header"><div class="index"><a href="/diary/">Index</a></div><h1>July 15, 2016</h1></header><div class="content"><div class="diary"><h2 id="cdn">CDN</h2>
<p>Reading note of <a href="https://mp.weixin.qq.com/s?__biz=MzA3NjUyMjIyMQ==&amp;mid=2649552837&amp;idx=1&amp;sn=d75b5f785cd20c4653cbcf25c2b35470&amp;scene=0&amp;key=77421cf58af4a6536b65f19279e310c32c071ae6982bb18962532f22478ce72f0e9d9483045e0f4e12e4c05b10bda613&amp;ascene=0&amp;uin=MjYyODA0MjQ4Mw%3D%3D&amp;devicetype=iMac+MacBookPro11%2C2+OSX+OSX+10.11.5+build(15F34)&amp;version=11020201&amp;pass_ticket=Fzuf%2Baum6ZySILdqNQIKEWm3PS791xCm%2BD8YNx%2BrFlBdRCgb2LHS9cpl1tIzj%2F%2F6">CDN 的工作原理 - 阿里</a></p>
<h3 id="dns-workflow">DNS workflow</h3>
<ol>
<li>cache in client (host / browser cache)</li>
<li>local DNS (provided by vendor)</li>
<li>Domain name search<ul>
<li>right to left</li>
<li>Root: <code>.</code></li>
<li>&quot;S1&quot;: <code>.com</code></li>
<li>&quot;some domain name server&quot; (could be setuped by CNAME): <code>taobao.com</code></li>
<li>IP - (returned by domain name server)</li>
</ul>
</li>
<li>local DNS would cache IP address, and response to browser</li>
<li>Browser may also cache IP for domain record.</li>
</ol>
<h3 id="cdn">CDN</h3>
<ul>
<li>Choosing better node (IP)<ul>
<li>by location</li>
<li>by throughput</li>
<li>...</li>
</ul>
</li>
<li>Caching<ul>
<li>Taobao: LVS + Tengine + Swift</li>
<li>BIG topic</li>
</ul>
</li>
</ul>
</div></div><footer class="footer"><address class="author">Copyright &copy;<a rel="author" href="https://github.com/allenfantasy" class="author-name">Allen Wu</a>-<a href="https://github.com/allenfantasy/my-tech-diary" class="source-repo">Source</a></address><p>Generated by<a href="https://github.com/joyeecheung/diary" class="site-repo">Joyee Cheung&#39;s diary generator</a></p></footer></body></html>